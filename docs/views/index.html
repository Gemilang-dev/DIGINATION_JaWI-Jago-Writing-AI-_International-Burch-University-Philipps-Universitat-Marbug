<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JaWi AI - Pelatih Menulis IELTS Pribadi Anda</title>
    
    <!-- Link ke CDN Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Konfigurasi custom untuk Tailwind -->
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              teal: {
                600: '#0d9488',
              }
            }
          }
        }
      }
    </script>
</head>
<body class="bg-gray-50">

    <!-- Navbar untuk Guest -->
    <header class="bg-white shadow-sm">
      <div class="mx-auto max-w-screen-xl px-4 sm:px-6 lg:px-8">
        <div class="flex h-16 items-center justify-between">
          <div class="flex-1 md:flex md:items-center md:gap-12">
            <a class="block text-teal-600" href="index.html">
              <span class="sr-only">Home</span>
              <h1 class="text-2xl font-bold">JaWi AI</h1>
            </a>
          </div>
          <div class="md:flex md:items-center md:gap-12">
            <nav aria-label="Global" class="hidden md:block">
              <ul class="flex items-center gap-6 text-sm">
                <li><a class="text-gray-500 transition hover:text-gray-500/75" href="#fitur">Fitur</a></li>
                <li><a class="text-gray-500 transition hover:text-gray-500/75" href="#">Blog</a></li>
              </ul>
            </nav>
            <div class="flex items-center gap-4">
              <div class="sm:flex sm:gap-4">
                <a id="navbar-login-btn" href="#" class="rounded-md bg-teal-600 px-5 py-2.5 text-sm font-medium text-white shadow-sm transition hover:bg-teal-700">
                  Login
                </a>
                <div class="hidden sm:flex">
                  <a id="navbar-register-btn" href="#" class="rounded-md bg-gray-100 px-5 py-2.5 text-sm font-medium text-teal-600 transition hover:bg-gray-200">
                    Daftar
                  </a>
                </div>
              </div>
              <div class="block md:hidden">
                <button class="rounded-sm bg-gray-100 p-2 text-gray-600 transition hover:text-gray-600/75">
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16" />
                  </svg>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </header>

    <!-- Konten Halaman Portofolio -->
    <main>
        <section class="bg-white">
            <div class="mx-auto max-w-screen-xl px-4 py-32 lg:flex lg:items-center">
                <div class="mx-auto max-w-xl text-center">
                    <img 
        src="https://drive.google.com/uc?export=view&id=1Ew22esyGX0eLoJ4SylNCeh_JkOe7y9Ak" 
        alt="Logo Aplikasi" 
        class="mx-auto mb-6 h-20 w-auto"
    />
                    <h1 class="text-3xl font-extrabold sm:text-5xl">
                        Capai Skor IELTS Impian Anda.
                        <strong class="font-extrabold text-teal-600 sm:block"> Dengan Pelatih AI Pribadi. </strong>
                    </h1>
                    <p class="mt-4 sm:text-xl/relaxed">
                        Dapatkan umpan balik instan, analisis skor mendetail, dan soal latihan tak terbatas untuk meningkatkan kemampuan menulis IELTS Anda secara drastis.
                    </p>
                    <div class="mt-8 flex flex-wrap justify-center gap-4">
                        <a id="hero-latihan-btn" href="#" class="block w-full rounded bg-teal-600 px-12 py-3 text-sm font-medium text-white shadow hover:bg-teal-700 focus:outline-none focus:ring sm:w-auto">
                            Mulai Latihan Gratis
                        </a>
                        <a class="block w-full rounded px-12 py-3 text-sm font-medium text-teal-600 shadow hover:text-teal-700 focus:outline-none focus:ring sm:w-auto" href="#fitur">
                            Pelajari Fitur
                        </a>
                    </div>
                </div>
            </div>
        </section>

        <section id="fitur" class="py-16">
            <div class="mx-auto max-w-screen-xl px-4">
                <div class="text-center mb-12">
                    <h2 class="text-3xl font-bold sm:text-4xl">Kenapa Memilih JaWi AI?</h2>
                    <p class="mt-4 text-gray-600">Semua yang Anda butuhkan untuk menaklukkan IELTS Writing.</p>
                </div>
                <div class="grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-3">
                    <div class="block rounded-xl border border-gray-200 p-8 shadow-xl transition hover:border-teal-500/10 hover:shadow-teal-500/10">
                        <h3 class="mt-4 text-xl font-bold text-gray-900">Analisis Skor Detail</h3>
                        <p class="mt-2 text-sm text-gray-500">Dapatkan estimasi skor beserta rincian 4 kriteria penilaian resmi IELTS untuk tahu persis di mana letak kekuatan dan kelemahan Anda.</p>
                    </div>
                    <div class="block rounded-xl border border-gray-200 p-8 shadow-xl transition hover:border-teal-500/10 hover:shadow-teal-500/10">
                        <h3 class="mt-4 text-xl font-bold text-gray-900">Feedback Kontekstual</h3>
                        <p class="mt-2 text-sm text-gray-500">AI tidak hanya mengoreksi, tapi juga memberikan saran perbaikan kosakata, tata bahasa, dan struktur kalimat yang relevan.</p>
                    </div>
                    <div class="block rounded-xl border border-gray-200 p-8 shadow-xl transition hover:border-teal-500/10 hover:shadow-teal-500/10">
                        <h3 class="mt-4 text-xl font-bold text-gray-900">Bank Soal Tak Terbatas</h3>
                        <p class="mt-2 text-sm text-gray-500">Berlatih dengan soal Task 2 yang selalu baru dan unik hasil generasi AI, serta soal Task 1 berbasis data yang berkualitas.</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-100">
        <div class="mx-auto max-w-screen-xl px-4 py-8 sm:px-6 lg:px-8">
            <div class="sm:flex sm:items-center sm:justify-between">
                <div class="flex justify-center text-teal-600 sm:justify-start">
                    <h1 class="text-2xl font-bold">JaWi AI</h1>
                </div>
                <p class="mt-4 text-center text-sm text-gray-500 lg:mt-0 lg:text-right">
                    Copyright &copy; 2025. All rights reserved.
                </p>
            </div>
        </div>
    </footer>

    <!-- Modal untuk Login dan Register -->
    <div id="auth-modal" class="fixed inset-0 z-50 hidden items-center justify-center bg-black bg-opacity-50 transition-opacity">
        <div class="w-full max-w-md rounded-lg bg-white p-8 shadow-2xl m-4 relative">
            <button id="close-modal-btn" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
            </button>
            <div id="login-form">
                <h2 class="text-2xl font-bold text-gray-900">Selamat Datang Kembali</h2>
                <p class="mt-2 text-sm text-gray-500">Silakan login untuk melanjutkan latihan Anda.</p>
                <form id="login-form-submit" class="mt-8 space-y-6">
                    <div><input type="email" id="login-email" placeholder="Email address" required class="w-full rounded-lg border-gray-200 p-4 text-sm shadow-sm" /></div>
                    <div><input type="password" id="login-password" placeholder="Password" required class="w-full rounded-lg border-gray-200 p-4 text-sm shadow-sm" /></div>
                    <button type="submit" class="block w-full rounded-lg bg-teal-600 px-5 py-3 text-sm font-medium text-white transition hover:bg-teal-700">Login</button>
                    <p class="text-center text-sm text-gray-500">Belum punya akun? <a href="#" id="show-register" class="font-medium text-teal-600 underline">Daftar di sini</a></p>
                </form>
            </div>
            <div id="register-form" class="hidden">
                <h2 class="text-2xl font-bold text-gray-900">Buat Akun Baru</h2>
                <p class="mt-2 text-sm text-gray-500">Daftar sekarang untuk memulai perjalanan IELTS Anda.</p>
                <form id="register-form-submit" class="mt-8 space-y-6">
                    <div><input type="text" id="register-username" placeholder="Username" required class="w-full rounded-lg border-gray-200 p-4 text-sm shadow-sm" /></div>
                    <div><input type="email" id="register-email" placeholder="Email address" required class="w-full rounded-lg border-gray-200 p-4 text-sm shadow-sm" /></div>
                    <div><input type="password" id="register-password" placeholder="Password" required class="w-full rounded-lg border-gray-200 p-4 text-sm shadow-sm" /></div>
                    <button type="submit" class="block w-full rounded-lg bg-teal-600 px-5 py-3 text-sm font-medium text-white transition hover:bg-teal-700">Daftar</button>
                    <p class="text-center text-sm text-gray-500">Sudah punya akun? <a href="#" id="show-login" class="font-medium text-teal-600 underline">Login di sini</a></p>
                </form>
            </div>
        </div>
    </div>

    <!-- Logika JavaScript untuk Modal dan Login -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            if (localStorage.getItem('loggedInUser')) {
                window.location.href = 'app.html';
            }

            const authModal = document.getElementById('auth-modal');
            const loginForm = document.getElementById('login-form');
            const registerForm = document.getElementById('register-form');
            const closeModalBtn = document.getElementById('close-modal-btn');
            const showRegisterLink = document.getElementById('show-register');
            const showLoginLink = document.getElementById('show-login');
            const navbarLoginBtn = document.getElementById('navbar-login-btn');
            const navbarRegisterBtn = document.getElementById('navbar-register-btn');
            const heroLatihanBtn = document.getElementById('hero-latihan-btn');

            function openModal(formToShow = 'login') {
                loginForm.style.display = (formToShow === 'login') ? 'block' : 'none';
                registerForm.style.display = (formToShow === 'register') ? 'block' : 'none';
                authModal.style.display = 'flex';
            }

            navbarLoginBtn.addEventListener('click', (e) => { e.preventDefault(); openModal('login'); });
            navbarRegisterBtn.addEventListener('click', (e) => { e.preventDefault(); openModal('register'); });
            heroLatihanBtn.addEventListener('click', (e) => { e.preventDefault(); openModal('login'); });
            closeModalBtn.addEventListener('click', () => authModal.style.display = 'none');
            showRegisterLink.addEventListener('click', (e) => { e.preventDefault(); openModal('register'); });
            showLoginLink.addEventListener('click', (e) => { e.preventDefault(); openModal('login'); });

            document.getElementById('login-form-submit').addEventListener('submit', async function(e) {
                e.preventDefault();
                const email = document.getElementById('login-email').value;
                const password = document.getElementById('login-password').value;

                try {
                    // Path ini relatif terhadap index.html.
                    // Pastikan folder 'data' sejajar dengan 'index.html'.
                    const response = await fetch('data/users.json');
                    
                    if (!response.ok) {
                        // Jika gagal, tampilkan status error di console untuk debugging
                        throw new Error(`Gagal memuat file: Status ${response.status}`);
                    }
                    
                    const users = await response.json();
                    const foundUser = users.find(user => user.email.toLowerCase() === email.toLowerCase() && user.password === password);
                    
                    if (foundUser) {
                        localStorage.setItem('loggedInUser', JSON.stringify({
                            username: foundUser.username,
                            email: foundUser.email,
                            role: foundUser.role
                        }));
                        // alert('Login berhasil! Mengarahkan ke aplikasi...');
                        window.location.href = 'app.html#history';
                    } else {
                        alert('Email atau password salah!');
                    }
                } catch (error) {
                    console.error('Terjadi kesalahan saat login:', error);
                    alert('Tidak dapat memproses login saat ini. Pastikan file data/users.json ada dan bisa diakses. Cek console (F12) untuk detail.');
                }
            });

            document.getElementById('register-form-submit').addEventListener('submit', function(e) {
                e.preventDefault();
                alert('Fitur registrasi dinonaktifkan dalam mode demo. Silakan gunakan akun yang sudah ada untuk login.\n DEMO ACOUNT \n email = email = test@jawi.com \n pw = test123');
                openModal('login');
            });
        });
    </script>
</body>
</html>
